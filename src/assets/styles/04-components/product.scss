// Wishlist Product entry
.product-entry {
  @apply h-full transition-all duration-500 bg-white/80 backdrop-blur-sm border border-white/20 hover:bg-white/90 hover:shadow-2xl hover:shadow-blue-500/10 hover:-translate-y-1 rounded-xl justify-between flex relative overflow-hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 0.5s;
  }

  &:hover::before {
    left: 100%;
  }

  &--wishlist {
    @apply justify-between p-4 flex-col sm:flex-row;

    .product-entry__image {
      @apply overflow-hidden w-16 h-12 md:w-20 md:h-16 rounded-lg border border-white/30;
    }

    salla-button{
      @apply flex;
    }
  }
}

.s-comments {
  &-page {
    @apply pt-16;
  }

  &-product {
    @apply bg-gray-100 mb-4 md:mb-14 py-4 md:py-14;

    .s-comments-container {
      @apply container;
    }
  }
}

// share list
.share-btns-list{
  @apply absolute z-10 overflow-hidden opacity-0 top-12 flex items-center flex-col rounded-3xl;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;

  a{
    @apply block p-3 transition-all duration-300;
    color: rgba(255, 255, 255, 0.8);
    
    &:hover {
      @apply text-cyan-400;
      background: rgba(6, 182, 212, 0.1);
      transform: translateY(-1px);
    }
  }
}


// cart
.cart-item{
  salla-conditional-fields > section{
    @apply px-0 pt-0 last:mb-0 last:pb-0;
  }
}

// Digital Rating(SVG)---------------------------
.s-product-card-content-pie-svg-base{ 
  transition: stroke-dashoffset 1s linear;
  stroke: #E8EDF2;
  stroke-width: 2px;
  stroke-linecap: round;
  fill: none;
}

.s-product-card-content-pie-svg-bar{
  fill: none;
  stroke: var(--color-primary);
  stroke-dasharray: 100 100;
  stroke-dashoffset: 100;
}

.s-product-card{
    @apply transition-all duration-500 hover:-translate-y-2 hover:shadow-2xl hover:shadow-blue-500/20;

    &:hover {
      .s-product-card-image img {
        @apply scale-105;
      }
    }

    &-entry {
      @apply bg-white/80 backdrop-blur-md border border-white/20 rounded-2xl overflow-hidden;

      &:hover {
        @apply bg-white/90 shadow-2xl shadow-blue-500/10;
      }
    }

    &-image {
      @apply relative overflow-hidden;

      img {
        @apply transition-transform duration-700 ease-out;
      }

      &::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, transparent 0%, rgba(59, 130, 246, 0.1) 50%, transparent 100%);
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      &:hover::after {
        opacity: 1;
      }
    }

    &-content {
      @apply relative z-10 backdrop-blur-sm;

      &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
        border-radius: inherit;
        pointer-events: none;
      }
    }

    &-content-sub{
      @apply justify-start gap-3;
    }

    &-starting-price{
      @apply w-auto;
    } 

    &-price {
      @apply relative;

      h4 {
        @apply bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent font-bold;
      }
    }

    &-title {
      a {
        @apply transition-colors duration-300 hover:text-blue-600;
      }
    }
  }

.pie-wrapper {
  @apply w-[72px] h-[72px] absolute top-2.5 rtl:left-5 ltr:right-5 text-primary flex items-center justify-center;

  .pie-svg {
    circle {
      transition: stroke-dashoffset 1s linear;
      stroke: #E8EDF2;
      stroke-width: 2px;
      stroke-linecap: round;
      fill: none;

      &.circle_bar {
        stroke: var(--color-primary);
        stroke-dasharray: 100 100;
        stroke-dashoffset: 100;
      }
    }
  }

  span {
      display: block;
      font-size: var(--font-xsm);
      color: var(--color-text);
      text-align: center;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      line-height: 1;
      font-size: var(--font-xsm);

      b {
          font-size: var(--font-md) !important;
          margin-bottom: 3px;
          color: var(--color-primary);
      }
  }

}

/* Add to cart sticky bar */
@media (max-width: 640px) {
  .is-sticky-product-bar{
    &.product-single{
      @apply pb-28;
    }

    .sticky-product-bar{
      @apply flex flex-wrap flex-col gap-2.5 sm:gap-4 fixed z-[2] bottom-0 left-0 p-3 w-full justify-between items-center shadow-[-1px_-2px_9px_0_rgba(0,0,0,0.05)] transition duration-700 delay-500 translate-y-100 opacity-0 ease-elastic;

      &__quantity,
      salla-add-product-button{
        @apply translate-y-5 opacity-0 transition duration-700 ease-elastic w-full;
      }

      &__price,
      .form-label{
        @apply hidden;
      }

      &__quantity{
        salla-quantity-input{
          @apply w-full;
          .s-quantity-input-container{
            @apply w-full;
          }
          .s-quantity-input-input{
            @apply w-[80%]
          }
        }
        @apply m-0 delay-[900ms];
      }

      salla-add-product-button{
        @apply w-auto m-0 flex-1 delay-1000;
      }

      .hydrated &{
        &,
        &__quantity,
        salla-add-product-button{
          @apply translate-y-0 opacity-100;
        }
      }
    }
  }
}

// Product Detail Page Enhancements
.product-single {
  .sidebar {
    .details-slider {
      @apply rounded-2xl overflow-hidden;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 8px 32px rgba(59, 130, 246, 0.1);
      
      .swiper-slide {
        @apply rounded-2xl overflow-hidden;
        
        img {
          @apply transition-transform duration-700 ease-out;
        }
      }

      &:hover img {
        @apply scale-105;
      }
    }

    .btn--wishlist {
      @apply transition-all duration-300;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      
      &:hover {
        background: rgba(6, 182, 212, 0.2);
        border-color: rgba(6, 182, 212, 0.4);
        transform: translateY(-2px) scale(1.05);
        box-shadow: 0 8px 25px rgba(6, 182, 212, 0.3);
      }
    }
  }

  .main-content {
    h1 {
      background: linear-gradient(135deg, #1e293b, #3b82f6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .product__description {
      @apply rounded-2xl;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;

      &:hover {
        background: rgba(255, 255, 255, 0.08);
        border-color: rgba(6, 182, 212, 0.3);
      }
    }

    // Product form styling
    .product-form {
      section {
        @apply rounded-2xl mb-6;
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        transition: all 0.3s ease;

        &:hover {
          background: rgba(255, 255, 255, 0.08);
          border-color: rgba(6, 182, 212, 0.2);
          transform: translateY(-2px);
          box-shadow: 0 8px 32px rgba(59, 130, 246, 0.1);
        }
      }

      .price-wrapper {
        h2 {
          background: linear-gradient(135deg, #06b6d4, #3b82f6);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          text-shadow: 0 0 30px rgba(6, 182, 212, 0.3);
        }
      }

      .sticky-product-bar {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }
    }
  }
}

// Enhanced product options styling
salla-product-options {
  .s-product-options-option {
    @apply rounded-xl;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;

    &:hover {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(6, 182, 212, 0.3);
    }

    .s-product-options-option-label {
      background: linear-gradient(135deg, #64748b, #3b82f6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
  }

  .s-product-options-colors-item {
    @apply transition-all duration-300;
    border: 2px solid transparent;
    
    &:hover {
      transform: scale(1.1);
      border-color: rgba(6, 182, 212, 0.5);
      box-shadow: 0 4px 15px rgba(6, 182, 212, 0.3);
    }

    &.selected {
      border-color: rgba(6, 182, 212, 0.8);
      box-shadow: 0 0 20px rgba(6, 182, 212, 0.4);
    }
  }
}

// Image gallery enhancements
.image-slider {
  .swiper-slide {
    &.video-entry::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 60px;
      height: 60px;
      background: rgba(6, 182, 212, 0.2);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(6, 182, 212, 0.5);
      border-radius: 50%;
      z-index: 2;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    &.video-entry:hover::before {
      background: rgba(6, 182, 212, 0.3);
      transform: translate(-50%, -50%) scale(1.1);
      box-shadow: 0 8px 25px rgba(6, 182, 212, 0.4);
    }
  }

  .slide--one-fourth {
    @apply transition-all duration-300 rounded-lg overflow-hidden;
    border: 2px solid transparent;

    &:hover {
      border-color: rgba(6, 182, 212, 0.5);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(6, 182, 212, 0.2);
    }

    &.swiper-slide-thumb-active {
      border-color: rgba(6, 182, 212, 0.8);
      box-shadow: 0 0 20px rgba(6, 182, 212, 0.4);
    }
  }
}

// Tabs fix
.s-tabs-header * {
  pointer-events: auto !important;
}

.s-tabs-header {
  .s-tab-header {
    @apply transition-all duration-300 rounded-lg;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);

    &:hover {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(6, 182, 212, 0.3);
      transform: translateY(-1px);
    }

    &.active {
      background: rgba(6, 182, 212, 0.1);
      border-color: rgba(6, 182, 212, 0.5);
      color: #06b6d4;
    }
  }
}

.product__description {
  ul,
  li{
    list-style: inherit !important;
  }

  ul,
  ol {
    @apply px-6;
  }

  ol{
    list-style: auto !important;
  }

  a{
    @apply text-blue-700;
  }
}



// Enhanced social share component
salla-social-share {
  .s-social-share-item {
    @apply transition-all duration-300 rounded-lg;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);

    &:hover {
      background: rgba(6, 182, 212, 0.1);
      border-color: rgba(6, 182, 212, 0.4);
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 8px 25px rgba(6, 182, 212, 0.3);
    }
  }
}

// Enhanced quantity input
salla-quantity-input {
  .s-quantity-input-container {
    @apply rounded-xl;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;

    &:hover {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(6, 182, 212, 0.3);
    }

    .s-quantity-input-button {
      @apply transition-all duration-300;
      background: rgba(6, 182, 212, 0.1);
      
      &:hover {
        background: rgba(6, 182, 212, 0.2);
        transform: scale(1.1);
      }
    }

    .s-quantity-input-input {
      @apply text-center;
      background: transparent;
      color: #64748b;
      font-weight: 600;
    }
  }
}

// 3d Image Viewer ------------------------------
.model-viewer-wrapper {
  @apply relative mb-4 md:mb-0 w-full rounded-2xl overflow-hidden;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 8px 32px rgba(59, 130, 246, 0.1);
}

.switcher-3d-view {
  @apply absolute top-5 rtl:left-4 ltr:right-4 transition-all duration-300;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 0.75rem;

  &:hover {
    background: rgba(6, 182, 212, 0.1);
    border-color: rgba(6, 182, 212, 0.4);
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(6, 182, 212, 0.3);
  }
}

.model-viewer {
  @apply w-full h-full;

  &__poster {
    @apply absolute inset-0 bg-contain bg-no-repeat bg-center;
  }
}

.s-toggle .s-toggle-switcher-has-text:before {
  @apply content-[attr(data-switcher-text)] font-bold text-center text-xs leading-[22px];
  font-family: arial, serif;
  color: rgba(6, 182, 212, 0.8);
}

.s-toggle .s-toggle-input:checked+div.s-toggle-switcher-bg-white:before {
  @apply border-white;
  background: rgba(6, 182, 212, 0.2);
  color: #06b6d4;
}

// Enhanced rating stars
salla-rating-stars {
  .s-rating-stars {
    @apply transition-all duration-300;
    
    .s-rating-star {
      @apply transition-all duration-200;
      filter: drop-shadow(0 0 3px rgba(251, 191, 36, 0.3));
      
      &:hover {
        transform: scale(1.1);
        filter: drop-shadow(0 0 8px rgba(251, 191, 36, 0.6));
      }
    }
  }
}

// Enhanced installment component
salla-installment {
  .s-installment-item {
    @apply rounded-xl transition-all duration-300;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);

    &:hover {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(6, 182, 212, 0.3);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(6, 182, 212, 0.1);
    }
  }
}

// Enhanced metadata styling
salla-metadata {
  .s-metadata-item {
    @apply rounded-xl transition-all duration-300;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);

    &:hover {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(6, 182, 212, 0.3);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(6, 182, 212, 0.1);
    }

    .s-metadata-label {
      background: linear-gradient(135deg, #64748b, #3b82f6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
  }
}

// product options file upload component
.product-option-uploader{
  .s-file-upload-wrapper{
    min-height: 120px;
    @apply rounded-xl;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;

    &:hover {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(6, 182, 212, 0.3);
    }

    .filepond--list-scroller{
      overflow-y: inherit !important;
    }
    .filepond--drop-label {
      min-height: 120px !important;
      @apply cursor-pointer border-dashed rounded-xl;
      background: rgba(255, 255, 255, 0.02);
      border: 2px dashed rgba(6, 182, 212, 0.3);
      transition: all 0.3s ease;

      &:hover {
        border-color: rgba(6, 182, 212, 0.5);
        background: rgba(6, 182, 212, 0.05);
      }
    }
    .product-option-uploader-placholder{
      @apply flex flex-col justify-center items-center;
      &-icon {
        @apply mb-1;
        i {
          color: #06b6d4;
          @apply text-xl;
          filter: drop-shadow(0 0 10px rgba(6, 182, 212, 0.3));
        }
      }
    }

  }
}

// centered offer modal width fix
@media (max-width: 640px) {
  .s-offer-modal-slider-centered .s-offer-modal-slider-item {
    max-width: 46% !important;
  }
}

.s-product{
    &-card{
      &-full-image salla-add-product-button {
        @apply bg-white rounded;
      }

      &-wishlist-added i {
        @apply text-red-500
      }
      &-fit-height.s-product-card-vertical .s-product-card-image {
        @apply flex-none sm:flex-1;
      }
    }

    &-options-colors-wrapper{
      @apply flex flex-wrap gap-4;

      .s-product-options-colors-item{
        @apply m-0 rtl:m-0 ltr:m-0 w-auto;
    }
  }
}

// Minimal card
.s-product-card-minimal .s-product-card-image{
  @apply rtl:rounded-r ltr:rounded-l;
}

.s-product-card-starting-price{
  @apply justify-start gap-2.5;

  h4{
    @apply text-red-800;
  }
}

.s-product-card-minimal salla-button.s-product-card-wishlist-btn{
  @apply rtl:left-2.5 ltr:right-2.5 top-2.5;
}

// image zooming
.magnify-wrapper {
	.img-magnifier-glass {
	  @apply hidden sm:block;
	  position: absolute;
	  z-index: 3;
	  border-radius: 50%;
	  cursor: none;
	  /*Set the size of the magnifier glass:*/
	  width: 300px;
	  height: 300px;
	  opacity:0;
	  pointer-events:none;
	  transform: scale(0);
	  transition: transform .5s ease;
	  box-shadow: inset 0px 0px 30px #949494;
	}
	&:hover{
	  .img-magnifier-glass{
		opacity:1;
		pointer-events:initial;
		transform: scale(1);
		transition-delay: 0.3s;
	  }
	} 
}


// Horizontal card
.s-product-card-horizontal{
  .s-product-card-content{
    @apply mb-0;
  }

  @media(max-width: 480px){
    salla-button.s-product-card-wishlist-btn{
      @apply absolute bottom-2.5 rtl:-right-12 ltr:-left-12
    }
  }

  salla-progress-bar{
    @apply flex flex-col grow;
  }
}

.s-rating-stars-reviews {
	@apply text-gray-500
}

.s-product-card-promotion-title{
  @apply bg-red-800 text-white;
}

.s-product-card-sale-price {
  h4{
    @apply text-red-800 #{!important};
  }

  span{
    @apply text-inherit;
  }
}

// filters
@media (max-width: 1024px){
  salla-filters{
    &,
    > *{
      @apply px-5 #{!important};
    }
  }
}

// bank offer corner badge
#offer-corner-badge{
  @apply float-left absolute bg-red-600 text-white transform rtl:-rotate-45 ltr:rotate-45 px-12 py-1 h-auto w-auto border-0 m-0 z-1 rtl:top-3 ltr:top-5 rtl:-left-12 ltr:-right-14;
}

// cart options
.cart-options {
  @apply bg-white border-dashed border border-gray-400 rounded-md;
  salla-product-options {
    @apply mb-0 pt-0;

    .s-product-options-option:not(div.s-product-options-option-booking) {
      @apply block #{!important};
    }
      &-label {
        @apply mb-3;
      }

      .s-form-control {
        @apply rounded-md border-gray-200
      }

      .s-datetime-picker-input {
        @apply rounded-md border-gray-200
      }

      .s-product-options-multiple-options-wrapper {
        @apply block #{!important};

    }
  }
}

salla-quantity-input[max='1']{
  input {
    @apply pointer-events-none opacity-50;
  }

  .s-quantity-input-button {
    @apply cursor-not-allowed
  }
}